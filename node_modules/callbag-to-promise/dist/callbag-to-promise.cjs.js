'use strict';

function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }

var last = _interopDefault(require('callbag-last-element'));
var subscribe = _interopDefault(require('callbag-subscribe'));

function toPromise(source) {
  return new Promise(function (resolve, reject) {
    subscribe({
      next: resolve,
      error: reject,
      complete: function complete() {
        var err = new Error('No elements in sequence.');
        err.code = 'NO_ELEMENTS';
        reject(err);
      }
    })(last(source));
  });
}

module.exports = toPromise;
